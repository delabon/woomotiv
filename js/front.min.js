!function(t){var e,o,a=t(window),i=t("body"),n=woomotivObj.nonce,s=woomotivObj.ajax_url,r=!1,m=!1,d=!1,c=1e3*parseInt(woomotivObj.interval),l=1e3*parseInt(woomotivObj.hide),u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,w=window.cancelAnimationFrame||window.mozCancelAnimationFrame;var p=function(){var t,e=document.createElement("fakeelement"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in o)if(void 0!==e.style[t])return o[t]}(),v=function(){var t,e=document.createElement("fakeelement"),o={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(t in o)if(void 0!==e.style[t])return o[t]}(),g=["fade","slideup","slidedown","slideright","slideleft"];function b(e,o){return(o="object"==typeof o?o:{}).action="woomotiv_"+e,o.hasOwnProperty("nonce")||(o.nonce=n),t.ajax({type:"POST",url:s,data:o})}function _(t){t=parseInt(t),e.eq(t).length||(t=0);var o=e.eq(t),a=-1!=g.indexOf(o.data("animation"))?p:v;o.addClass("wmt-current").one(a,function(){m=setTimeout(function(){o.removeClass("wmt-current"),r=setTimeout(function(){_(t+1)},c)},l)})}b("get_items").done(function(n){if(n.hasOwnProperty("data")&&0!==n.data.length){if(localStorage.getItem("woomotiv_pause_date"))if(new Date(localStorage.getItem("woomotiv_pause_date"))>new Date)return;var s=0;Object.keys(n.data).map(function(t,e){var o=n.data[t];s="order"===o.type?function(t,e){(t=t.popup).user.first_name&&""!==t.user.first_name||(t.user.first_name=t.user.username),t.user.last_name&&""!==t.user.last_name||(t.user.last_name="");var o=woomotivObj.template_content;return o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=o.replace(/{date}/gi,'<span class="wmt-date">'+t.date_completed+"</span>")).replace(/{new_line}/gi,"<br>")).replace(/{buyer}/gi,'<strong class="wmt-buyer">'+t.user.first_name+" "+t.user.last_name.charAt(0)+"</strong>")).replace(/{product}/gi,'<strong class="wmt-product">'+t.product.name+"</strong>")).replace(/{by_woomotiv}/gi,'<span class="wmt-by">by <span>woomotiv</span></strong>')).replace(/{city}/gi,'<strong class="wmt-city">'+t.city+"</strong>")).replace(/{country}/gi,'<strong class="wmt-country">'+t.country+"</strong>")).replace(/{state}/gi,'<strong class="wmt-state">'+t.state+"</strong>")).replace(/{buyer_first_name}/gi,'<strong class="wmt-buyer-first-name">'+t.user.first_name+"</strong>")).replace(/{buyer_last_name}/gi,'<strong class="wmt-buyer-last-name">'+t.user.last_name+"</strong>")).replace(/{buyer_username}/gi,'<strong class="wmt-buyer-username">'+t.user.username+"</strong>"),i.append('<div data-index="'+e+'" data-type="order" data-product="'+t.product.id+'" class="woomotiv-popup wmt-index-'+e+'" data-size="'+woomotivObj.size+'" data-shape="'+woomotivObj.shape+'" data-animation="'+woomotivObj.animation+'" data-position="'+woomotivObj.position+'" data-hideonmobile="'+woomotivObj.hide_mobile+'">                <div class="woomotiv-container">                    <div class="woomotiv-image" >                        '+(0==woomotivObj.user_avatar?t.product.thumbnail_img:t.user.avatar_img)+'                    </div>                    <div class="woomotiv-content"><p>'+o+'</p></div>                </div>                <a class="woomotiv-link"'+(1==woomotivObj.disable_link?"":' href="'+t.product.url+'"')+'></a>                <a class="woomotiv-close '+(1==woomotivObj.hide_close_button?"__hidden__":"")+'"><svg viewBox="0 0 24 24" width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M12 11.293l10.293-10.293.707.707-10.293 10.293 10.293 10.293-.707.707-10.293-10.293-10.293 10.293-.707-.707 10.293-10.293-10.293-10.293.707-.707 10.293 10.293z"/></svg></a>            </div>'),e+1}(o,s):"review"===o.type?function(t,e){(t=t.popup).user.first_name&&""!==t.user.first_name||(t.user.first_name=t.user.username),t.user.last_name&&""!==t.user.last_name||(t.user.last_name="");var o=woomotivObj.template_review;return o=(o=(o=(o=(o=(o=(o=(o=o.replace(/{date}/gi,'<span class="wmt-date">'+t.date_completed+"</span>")).replace(/{new_line}/gi,"<br>")).replace(/{buyer}/gi,'<strong class="wmt-buyer">'+t.user.first_name+" "+t.user.last_name.charAt(0)+"</strong>")).replace(/{product}/gi,'<strong class="wmt-product">'+t.product.name+"</strong>")).replace(/{by_woomotiv}/gi,'<span class="wmt-by">by <span>woomotiv</span></strong>')).replace(/{buyer_first_name}/gi,'<strong class="wmt-buyer-first-name">'+t.user.first_name+"</strong>")).replace(/{buyer_last_name}/gi,'<strong class="wmt-buyer-last-name">'+t.user.last_name+"</strong>")).replace(/{buyer_username}/gi,'<strong class="wmt-buyer-username">'+t.user.username+"</strong>"),i.append('<div data-index="'+e+'" data-type="review" data-product="'+t.product.id+'" class="woomotiv-popup wmt-index-'+e+'" data-size="'+woomotivObj.size+'" data-shape="'+woomotivObj.shape+'" data-animation="'+woomotivObj.animation+'" data-position="'+woomotivObj.position+'" data-hideonmobile="'+woomotivObj.hide_mobile+'">                <div class="woomotiv-container">                    <div class="woomotiv-image" >                        '+(0==woomotivObj.user_avatar?t.product.thumbnail_img:t.user.avatar_img)+'                    </div>                    <div class="woomotiv-content"><p>'+o+'<br><span class="wmt-stars"><span style="width:'+t.stars/5*100+'%"></span></span></p></div>                </div>                <a class="woomotiv-link"'+(1==woomotivObj.disable_link?"":' href="'+t.product.url+'"')+'></a>                <a class="woomotiv-close '+(1==woomotivObj.hide_close_button?"__hidden__":"")+'"><svg viewBox="0 0 24 24" width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M12 11.293l10.293-10.293.707.707-10.293 10.293 10.293 10.293-.707.707-10.293-10.293-10.293 10.293-.707-.707 10.293-10.293-10.293-10.293.707-.707 10.293 10.293z"/></svg></a>            </div>'),e+1}(o,s):function(t,e){var o=(t=t.popup).content;return o=(o=o.replace(/\{/gi,"<strong>")).replace(/\}/gi,"</strong>"),i.append('<div data-index="'+e+'" data-type="custom" data-id="'+t.id+'" class="woomotiv-popup wmt-index-'+e+'" data-size="'+woomotivObj.size+'" data-shape="'+woomotivObj.shape+'" data-animation="'+woomotivObj.animation+'" data-position="'+woomotivObj.position+'" data-hideonmobile="'+woomotivObj.hide_mobile+'">                <div class="woomotiv-container">                    <div class="woomotiv-image" >                        '+t.image+'                    </div>                    <div class="woomotiv-content"><p>'+o+'</p></div>                </div>                <a class="woomotiv-link"'+(1==woomotivObj.disable_link?"":' href="'+t.link+'"')+'></a>                <a class="woomotiv-close '+(1==woomotivObj.hide_close_button?"__hidden__":"")+'"><svg viewBox="0 0 24 24" width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M12 11.293l10.293-10.293.707.707-10.293 10.293 10.293 10.293-.707.707-10.293-10.293-10.293 10.293-.707-.707 10.293-10.293-10.293-10.293.707-.707 10.293 10.293z"/></svg></a>            </div>'),e+1}(o,s)}),e=t(".woomotiv-popup"),setTimeout(function(){o=u(function(){_(0)})},parseInt(c/2)),e.on("mouseenter",function(t){clearTimeout(r),clearTimeout(m),w(o)}),e.on("mouseleave",function(t){var a=e.filter(".wmt-current"),i=a.data("index"),n=parseInt(l/2);void 0!==i&&(setTimeout(function(){a.removeClass("wmt-current")},n),setTimeout(function(){o=u(function(){_(a.data("index")+1)})},l+l))}),e.find(".woomotiv-close").on("click",function(t){e.remove(),localStorage.setItem("woomotiv_pause_date",function(t,e,o){var a=new Date(t),i=function(){a.getDate()!=t.getDate()&&a.setDate(0)};switch(e.toLowerCase()){case"year":a.setFullYear(a.getFullYear()+o),i();break;case"quarter":a.setMonth(a.getMonth()+3*o),i();break;case"month":a.setMonth(a.getMonth()+o),i();break;case"week":a.setDate(a.getDate()+7*o);break;case"day":a.setDate(a.getDate()+o);break;case"hour":a.setTime(a.getTime()+36e5*o);break;case"minute":a.setTime(a.getTime()+6e4*o);break;case"second":a.setTime(a.getTime()+1e3*o);break;default:a=void 0}return a}(new Date,"hour",1))}),e.on("click",function(e){e.preventDefault();var o=t(this),a={};"order"===o.data("type")?(a.type="order",a.product_id=o.data("product")):"review"===o.data("type")?(a.type="review",a.product_id=o.data("product")):(a.type="custom",a.id=o.data("id")),b("update_stats",a).done(function(t){1!=woomotivObj.disable_link&&(location.href=o.find(".woomotiv-link").attr("href"))})}),a.resize(function(t){"small"!=woomotivObj.size&&(clearInterval(d),d=setTimeout(function(){a.width()<380?e.attr("data-size","small"):e.attr("data-size","default")},20))}).resize()}})}(jQuery);